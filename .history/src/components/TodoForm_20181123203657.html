<div class="row">
	<div class="col-md-12">
		<br />
		<div class="input-group">
			<input class="form-control text" type="text" required={true} value={todo.text} placeholder="Write a todo" onKeyUp={onSubmit}
			 onChange={onTextChange} />

			<div class="form-control datepicker-container collapsed">
				{datetimestr}
				<Nanocal />
			</div>
			<select class="form-control priority" value={todo.priority || 0} onChange={onPriorityChange}>
				<option value={0}>{priority[0]}</option>
				<option value={1}>{priority[1]}</option>
				<option value={2}>{priority[2]}</option>
			</select>
			<div class="input-group-append">
				<button class="btn btn-primary" onClick={onAdd}>
					Add
				</button>
			</div>
		</div>
	</div>
</div>
<script>
	import Nanocal from "nanocal";
	import {DATETIME_FORMAT} from "firebase-svelte-constants"
	import {format} from "date-fns"
	export default {
	  computed: {
		  datetimestr: ({todo})=>format(todo.datetime, DATETIME_FORMAT)
	  },
	  components: {
	    Nanocal
	  }
	};
</script>
<style>
	.datepicker-container {
	  position: relative;
	}
	:global(.datepicker-container.collapsed .wrapper) {
	  display: none;
	}
	:global(.wrapper) {
	  position: absolute;
	  top: 100%;
	  left: 0;
	  background: white;
	}
</style>