<div id="todoapp">
	<TodoForm uid={uid} priority={PRIORITY} todo={todo} flatpickrOptions={flatpickrOptions} /> {#if uid } {'logged in'} {:else}
	{'logged off'} {/if}
	<Nav uid={uid} />
</div>

<script>
  import Nav from "./components/Nav.html";
  import TodoForm from "./components/TodoForm.html";
  import { Store } from "svelte/store.js";

  export default {
    oncreate() {
      const listener = this.store.on("state", state => {
        console.log(state);
      });
      this.on("destroy", listener.cancel);
    },
    store: Store,
    components: {
      Nav,
      TodoForm
    },
    methods: {
      addTodo(todo) {
        this.store.set({ todos: [todo] });
      }
    },
    data: () => ({
      uid: 1
    })
  };
</script>

<style>
  #todoapp {
    background: #ccc;
  }
</style>